\hypertarget{shape__spherical__harmonics_8hpp_source}{}\doxysection{shape\+\_\+spherical\+\_\+harmonics.\+hpp}
\label{shape__spherical__harmonics_8hpp_source}\index{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/shape/shape\_spherical\_harmonics.hpp@{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/shape/shape\_spherical\_harmonics.hpp}}
\mbox{\hyperlink{shape__spherical__harmonics_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{shape_8hpp}{shape.hpp}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stl__model_8hpp}{stl\_model.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stl__reader_8hpp}{stl\_reader.hpp}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacenetdem}{netdem}}\ \{}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnetdem_1_1_spherical_harmonics}{SphericalHarmonics}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classnetdem_1_1_shape}{Shape}}\ \{}
\DoxyCodeLine{00013\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00014\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a317c0eef721ba0a4cbd4b06fa21435e6}{degree}}\{8\};}
\DoxyCodeLine{00015\ \ \ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a7048aa9b5a0944e1e7411288b431bd92}{a\_nm}};}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a6fd7c3f71dae690838be314af0df3b63}{SphericalHarmonics}}();}
\DoxyCodeLine{00018\ \ \ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a6fd7c3f71dae690838be314af0df3b63}{SphericalHarmonics}}(\textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ nlohmann::json\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_ae5c2ac3aca67f0ea1c884ba4deb447cd}{PackJson}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00021\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a72a0d3e590ad342c0a410ae55397e7af}{InitFromJson}}(nlohmann::json\ \textcolor{keyword}{const}\ \&js)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a29163114283ad8d10208a182031d0a97}{InitFromSTL}}(std::string\ \textcolor{keyword}{const}\ \&file);}
\DoxyCodeLine{00024\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a29163114283ad8d10208a182031d0a97}{InitFromSTL}}(\mbox{\hyperlink{classnetdem_1_1_s_t_l_model}{STLModel}}\ \textcolor{keyword}{const}\ \&stl\_model);}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_aff0aab3dedcfe8a1dfa44bf868575fd2}{InitFromSurfacePoints}}(\mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<Vec3d>}}\ \textcolor{keyword}{const}\ surf\_points);}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a7d23e867d3f00056f118364cb0bfaa2b}{Init}}();}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_ac31b1ff3f480f74d1adfa26a5a7938ff}{UpdateNodes}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a9f84fe652a69751e530000c47fb3930f}{UpdateShapeProperties}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a2b24a5482693a665391131da80fceebb}{SetSize}}(\textcolor{keywordtype}{double}\ d)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \mbox{\hyperlink{classnetdem_1_1_s_t_l_model}{STLModel}}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a636e21871ecf0cd3f59153c285ecbd9e}{GetSTLModel}}(\textcolor{keywordtype}{int}\ num\_facets\ =\ 400)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{classnetdem_1_1_shape}{Shape}}\ *\mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a1eb2eaa5a54e1c07768d093c266b6f4c}{Clone}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a74a30568efb6d21795c3662faa0578fd}{SignedDistance}}(\mbox{\hyperlink{namespacenetdem_aa1676e16ca66301040ee8d50376c72b9}{Vec3d}}\ \textcolor{keyword}{const}\ \&pos)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{namespacenetdem_aa1676e16ca66301040ee8d50376c72b9}{Vec3d}}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a20f4f0db7374cdc2608c5a7fe9df7d5d}{SurfacePoint}}(\mbox{\hyperlink{namespacenetdem_aa1676e16ca66301040ee8d50376c72b9}{Vec3d}}\ \textcolor{keyword}{const}\ \&pos)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ the\ most\ basic\ and\ straightforward\ option\ to\ calculate\ SH\ terms}}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a174192a206b75bb933af920bcde03bed}{CalculateYnm}}(\textcolor{keywordtype}{double}\ theta,\ \textcolor{keywordtype}{double}\ phi,\ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<VecXT<double>}}>\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a174192a206b75bb933af920bcde03bed}{CalculateYnm}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \&theta,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \&phi,\ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ a\ fast\ option\ to\ calculate\ SH\ terms,\ by\ hard\ coded\ the\ spherical\ harmonics}}
\DoxyCodeLine{00049\ \ \ \textcolor{comment}{//\ legendre\ and\ reusing\ the\ sin\ and\ cos\ values}}
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a3332816349661bd4a8b346136879ba9f}{CalculateYnm\_Fast}}(\textcolor{keywordtype}{double}\ theta,\ \textcolor{keywordtype}{double}\ phi,\ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<VecXT<double>}}>\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a3332816349661bd4a8b346136879ba9f}{CalculateYnm\_Fast}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \&theta,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \&phi,}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a5422fbfd563d228900769901395351e1}{CalculateRho}}(\textcolor{keywordtype}{double}\ theta,\ \textcolor{keywordtype}{double}\ phi)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \textcolor{comment}{//\ another\ fast\ option\ by\ using\ unit\ VecXT\ as\ direction\ (thus\ to\ avoid\ sin}}
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ and\ cos)}}
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<double>}}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a3332816349661bd4a8b346136879ba9f}{CalculateYnm\_Fast}}(\mbox{\hyperlink{namespacenetdem_aa1676e16ca66301040ee8d50376c72b9}{Vec3d}}\ \textcolor{keyword}{const}\ \&dir,\ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<VecXT<double>}}>\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a3332816349661bd4a8b346136879ba9f}{CalculateYnm\_Fast}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<Vec3d>}}\ \&dir\_list,}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a5422fbfd563d228900769901395351e1}{CalculateRho}}(\mbox{\hyperlink{namespacenetdem_aa1676e16ca66301040ee8d50376c72b9}{Vec3d}}\ \textcolor{keyword}{const}\ \&dir)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00066\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<VecXT<double>}}>\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a239525c4fd5b35fdb4ece22f92b74d6b}{sph\_legendre\_fast}}(\textcolor{keywordtype}{double}\ theta,\ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00067\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetdem_a088168eeea9e6ce8d0500cdfd7ef9c87}{VecXT<VecXT<double>}}>\ \mbox{\hyperlink{classnetdem_1_1_spherical_harmonics_a239525c4fd5b35fdb4ece22f92b74d6b}{sph\_legendre\_fast}}(\mbox{\hyperlink{namespacenetdem_aa1676e16ca66301040ee8d50376c72b9}{Vec3d}}\ \textcolor{keyword}{const}\ \&dir,\ \textcolor{keywordtype}{int}\ deg);}
\DoxyCodeLine{00068\ \};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \}\ \textcolor{comment}{//\ namespace\ netdem}}

\end{DoxyCode}
