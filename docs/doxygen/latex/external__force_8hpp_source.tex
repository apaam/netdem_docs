\hypertarget{external__force_8hpp_source}{}\doxysection{external\+\_\+force.\+hpp}
\label{external__force_8hpp_source}\index{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/modifier/external\_force.hpp@{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/modifier/external\_force.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}modifier.hpp"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}particle.hpp"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}utils\_math.hpp"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacenetdem}{netdem}}\ \{}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnetdem_1_1_external_force}{ExternalForce}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classnetdem_1_1_modifier}{Modifier}}\ \{}
\DoxyCodeLine{00016\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00020\ \ \ \mbox{\hyperlink{classnetdem_1_1_external_force_a265b92104bfaa13e3200a25865ce2cb9}{ExternalForce}}();}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00030\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a6732b7f02666b8ac7936d5d4d953aeb2}{SetForce}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{double}\ fx,\ \textcolor{keywordtype}{double}\ fy,\ \textcolor{keywordtype}{double}\ fz);}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a05d37c7512576240d3fb901961d492ff}{SetMoment}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{double}\ mx,\ \textcolor{keywordtype}{double}\ my,\ \textcolor{keywordtype}{double}\ mz);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00050\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a6732b7f02666b8ac7936d5d4d953aeb2}{SetForce}}(\textcolor{keyword}{const}\ VecXT<int>\ \&id\_list,\ \textcolor{keywordtype}{double}\ fx,\ \textcolor{keywordtype}{double}\ fy,\ \textcolor{keywordtype}{double}\ fz);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a05d37c7512576240d3fb901961d492ff}{SetMoment}}(\textcolor{keyword}{const}\ VecXT<int>\ \&id\_list,\ \textcolor{keywordtype}{double}\ mx,\ \textcolor{keywordtype}{double}\ my,\ \textcolor{keywordtype}{double}\ mz);}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00070\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_ae4e9794b1ef9eb2341242a5488f77a94}{AddForce}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{double}\ fx,\ \textcolor{keywordtype}{double}\ fy,\ \textcolor{keywordtype}{double}\ fz);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00080\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a977e8003577e80daa6154a31612212bc}{AddMoment}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{double}\ mx,\ \textcolor{keywordtype}{double}\ my,\ \textcolor{keywordtype}{double}\ mz);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00090\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_ae4e9794b1ef9eb2341242a5488f77a94}{AddForce}}(\textcolor{keyword}{const}\ VecXT<int>\ \&id\_list,\ \textcolor{keywordtype}{double}\ fx,\ \textcolor{keywordtype}{double}\ fy,\ \textcolor{keywordtype}{double}\ fz);}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a977e8003577e80daa6154a31612212bc}{AddMoment}}(\textcolor{keyword}{const}\ VecXT<int>\ \&id\_list,\ \textcolor{keywordtype}{double}\ mx,\ \textcolor{keywordtype}{double}\ my,\ \textcolor{keywordtype}{double}\ mz);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00108\ \ \ Vec3d\ \mbox{\hyperlink{classnetdem_1_1_external_force_a4709ff9476fd5450659626529b244f01}{GetForce}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00116\ \ \ Vec3d\ \mbox{\hyperlink{classnetdem_1_1_external_force_a8960118935a25db9a07b4bcb500cd90d}{GetMoment}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00121\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a213bed3fd824ae27cded9ddbf03c8d97}{Clear}}();}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00128\ \ \ \mbox{\hyperlink{classnetdem_1_1_modifier}{Modifier}}\ *\mbox{\hyperlink{classnetdem_1_1_external_force_a1e8649fd27ee5859987b9f7eff37163b}{Clone}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00134\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_acd4aac67c8998aa3b20a128900468157}{SyncToAllProcessors}}();}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00139\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_ae38113525d59ba426b1274808208b9eb}{Execute}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00144\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_external_force_a5aa8f256ecf373554e9e2a47a816c0d9}{Update}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00147\ \ \ std::unordered\_map<int,\ VecNd<6>>\ id\_force\_map;}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ VecXT<Particle\ *>\ particle\_list;}
\DoxyCodeLine{00150\ \ \ VecXT<Vec3d>\ force\_list;}
\DoxyCodeLine{00151\ \ \ VecXT<Vec3d>\ moment\_list;}
\DoxyCodeLine{00152\ \};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \}\ \textcolor{comment}{//\ namespace\ netdem}}

\end{DoxyCode}
